<!DOCTYPE html>
<html lang="fr">
<head>
<title>cmp sipa</title>
<meta charset="utf-8">
<meta name="robots" content="noindex">

    <link rel="stylesheet" media="all" href="oueststrap/oueststrap-of.min.css">
    <link rel="stylesheet" media="screen and (max-width: 979px)" href="oueststrap/oueststrap-of-small.min.css">
    <link rel="stylesheet" media="screen and (min-width: 980px)" href="oueststrap/oueststrap-of-medium.min.css">
    <link rel="stylesheet" media="screen and (min-width: 1280px)" href="oueststrap/oueststrap-of-large.min.css">

    <link rel="icon" href="oueststrap/favicon.ico" />

    <script id="sipacmp_loader"></script>
    <script src="../build/js/dev/sipa-cmp.stub.min.js"></script>
    <script>window.sipacmp_gcda = true; // _global_consent_doesnt_apply</script>
</head>
<body>
    <div class="container-of">

        <h1 class="titre-rubrique">SIPA CMP</h1>
        <p class="margin-large">CMP du groupe SIPA certifiée conforme par l’IAB</p>


        <p class="h2 titre-rubrique">Code du stub à mettre dans le <code>&lt;head></code>: </p>

        <div class="form">
            <textarea id="snippet" style="height: 300px;"><script>!function(e,a,t,c,n){if(a.__cmp=function(){var e=[],c=function(t,c,n){"ping"===t?n&&n({gdprAppliesGlobally:!!(a.__cmp&&a.__cmp.config&&a.__cmp.config.storeConsentGlobally),cmpLoaded:!1}):e.push({command:t,parameter:c,callback:n})};return c.commandQueue=e,c.receiveMessage=function(a){var t=a&&a.data&&a.data.__cmpCall;t&&e.push({command:t.command,parameter:t.parameter,callback:function(e,c){var n={__cmpReturn:{returnValue:e,success:c,callId:t.callId}};a.source.postMessage(msgIsString?JSON.stringify(n):n,"*")}})},(a.attachEvent||a.addEventListener)("message",function(e){a.__cmp.receiveMessage(e)},!1),function e(){if(!a.frames.__cmpLocator)if(t.body){var c=t.createElement("iframe");c.style.display="none",c.name="__cmpLocator",t.body.appendChild(c)}else setTimeout(e,50)}(),c}(),!document.getElementById(n)){var s=t.createElement("script"),r=t.getElementsByTagName("script")[0];s.async=1,s.src="https://sipaof.mgr.consensu.org/sipacmp/sipa-cmp.min.js",s.type="text/javascript",s.id=n,r.parentNode.insertBefore(s,r)}}(0,window,document,0,"sipacmp_loader");</script></textarea>
            <button class="btn btn-n1" onclick="document.getElementById('snippet').select(); document.execCommand('copy');confirm('code copié!');">Copier le code dans le presse papier</button>
        </div>

        <p class="h3 titre-rubrique">Fonction pour réafficher le bandeau: </p>
        <div class="form">
            <textarea>__cmp.show();</textarea>
            <button class="btn btn-n2" onclick="__cmp.show();">Réafficher le bandeau</button>
        </div>

        <p class="h3 titre-rubrique">Variable globale pour ne pas compter comme consenement lors de la naviguation: </p>
        <div class="form">
            <textarea id="snippet2">&lt;script>window.sipacmp_gcda = true; // _global_consent_doesnt_apply&lt;/script></textarea>
            <button class="btn btn-n2 btn-petit" onclick="document.getElementById('snippet2').select(); document.execCommand('copy');confirm('code copié!');">Copier le code dans le presse papier</button>
        </div>

        <p class="h3 titre-rubrique">Nettoyer toutes les infos stockées: </p>
        <div class="form">
            <textarea>localStorage.clear();document.cookie = 'sipacmp_consent=;expires=Thu, 01 Jan 1970 00:00:00 GMT;';</textarea>
            <button class="btn btn-n2" onclick="localStorage.clear();document.cookie = 'sipacmp_consent=;expires=Thu, 01 Jan 1970 00:00:00 GMT;';">Nettoyer</button>
        </div>

        <p class="h3 titre-rubrique">Paramètrage: </p>
        <p class="margin-small">Il suffit de mettre les balises suivantes juste <strong>après</strong> l'appel "stub"</p>
        <div class="form" style="padding-left: 30px;">
            <ul>
                <li>
                    <h4>Pourcentage de scroll</h4>
                    <code>// consent dès 1pixel scrollé</code>
                    <textarea>&lt;script>window.__cmp.config.scrollPercent = 0; &lt;/script></textarea>
                    <code>// consent dès 20% scrollé</code>
                    <textarea>&lt;script>window.__cmp.config.scrollPercent = .20; &lt;/script></textarea>
                </li>
                <li>
                    <h4>Texte d’explication</h4>
                    <code>// html autorisé. <br/>Exemple en <strong>Template Strings</strong></code>
                    <textarea style="height: 200px;">&lt;script>window.__cmp.config.text = `
    En poursuivant votre navigaton sur ce site, vous acceptez notre <a href="https://www.ouest-france.fr/politiquedeprotectiondesdonneespersonnelles/" target="_blank" data-trkcmp="lien données personnelles">politique de protection des données personnelles</a> et notre <a href="https://www.ouest-france.fr/politiquedeprotectiondesdonneespersonnelles/" target="_blank" data-trkcmp="lien cookies">politique cookies</a>, ainsi que le dépôt de cookies et technologies similaires destinés à réaliser des statistiques visant à évaluer le trafic et l’utilisation des services sur notre site, vous proposer des services éditoriaux et des publicités adaptés à vos centres d’intérêts et vous permettre de partager des contenus sur les réseaux sociaux.
`;&lt;/script></textarea>
                    <code>// pour la compatibilité avec les anciens navigateurs se referer à https://jack.ofspades.com/multiline-strings-in-es6-javascript/#multilinestringhacksines5</code>
                </li>
            </ul>
        </div>

        <p class="h3 titre-rubrique">Url de la liste globale téléchargée toutes les semaines: </p>
        <div class="form">
            <textarea>https://vendorlist.consensu.org/vendorlist.json</textarea>
        </div>
    </div>

    <script src="../build/js/dev/sipa-cmp.min.js"></script>
</body>
</html>
